-- 사용자 정의 직무코드 추가 템플릿
-- 이 파일을 복사하여 src/domain/migrations/ 에 저장하세요
-- 파일명 예: 20260211_03_my_jobs.sql

-- ========================================
-- 1. 직무코드와 직무명 정의
-- ========================================
-- scenario_id: year_2025, year_2024, year_2023 등
-- job_code: 직무코드 (예: M103, T303, E503)
-- job_name: 직무명 (예: 팀장, 환경관리자, 경비원)
-- sort_order: 정렬 순서 (숫자가 작을수록 위에 표시)
-- is_active: 1(활성), 0(비활성)

INSERT OR IGNORE INTO md_job_role (scenario_id, job_code, job_name, sort_order, is_active)
VALUES
  -- 2025년 직무 추가
  ('year_2025', 'M103', '팀장', 8, 1),
  ('year_2025', 'T303', '환경관리자', 9, 1),
  ('year_2025', 'E503', '경비원', 10, 1);

-- ========================================
-- 2. 노임단가 정의
-- ========================================
-- wage_day: 일급 (원)
-- wage_hour: 시간급 (원) = 일급 ÷ 8
-- allowance_rate_json: 수당 요율 (보통 '{}' 비워둠)

-- 노임단가 참고표 (2025년 기준):
-- 특급기술자: 380,000원/일 (47,500원/시)
-- 고급기술자: 318,000원/일 (39,750원/시)
-- 중급기술자: 269,000원/일 (33,625원/시)
-- 초급기술자: 234,000원/일 (29,250원/시)
-- 단순노무종사원: 93,000원/일 (11,625원/시)

INSERT OR IGNORE INTO md_job_rate (scenario_id, job_code, wage_day, wage_hour, allowance_rate_json)
VALUES
  -- M103(팀장) = 중급기술자
  ('year_2025', 'M103', 269000, 33625, '{}'),
  -- T303(환경관리자) = 초급기술자
  ('year_2025', 'T303', 234000, 29250, '{}'),
  -- E503(경비원) = 단순노무종사원
  ('year_2025', 'E503', 93000, 11625, '{}');

-- ========================================
-- 3. 2024년, 2023년에도 추가하려면:
-- ========================================

-- 2024년 노임단가:
-- 고급기술자: 305,410원/일
-- 중급기술자: 258,210원/일
-- 초급기술자: 225,110원/일
-- 단순노무종사원: 89,210원/일

INSERT OR IGNORE INTO md_job_role (scenario_id, job_code, job_name, sort_order, is_active)
VALUES
  ('year_2024', 'M103', '팀장', 8, 1),
  ('year_2024', 'T303', '환경관리자', 9, 1),
  ('year_2024', 'E503', '경비원', 10, 1);

INSERT OR IGNORE INTO md_job_rate (scenario_id, job_code, wage_day, wage_hour, allowance_rate_json)
VALUES
  ('year_2024', 'M103', 258210, 32276, '{}'),
  ('year_2024', 'T303', 225110, 28139, '{}'),
  ('year_2024', 'E503', 89210, 11151, '{}');

-- 2023년도 동일하게 추가 가능
-- ...

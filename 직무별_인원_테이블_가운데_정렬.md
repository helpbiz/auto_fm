# 직무별 인원 입력 테이블 가운데 정렬 완료

## 수정 개요
직무별 인원 입력 테이블의 모든 셀 데이터를 가운데 정렬하도록 수정했습니다.

## 수정 파일
- **파일**: [job_role_table.py](src/ui/job_role_table.py)

## 수정 내역

### 1. `_ensure_row_items` 메서드 (Line 377-382)
**역할**: 빈 행에 기본 아이템 생성

**변경 전**:
```python
def _ensure_row_items(self, row: int) -> None:
    for col in range(COL_MAX + 1):
        if self.item(row, col) is None:
            self.setItem(row, col, QTableWidgetItem(""))
```

**변경 후**:
```python
def _ensure_row_items(self, row: int) -> None:
    for col in range(COL_MAX + 1):
        if self.item(row, col) is None:
            item = QTableWidgetItem("")
            item.setTextAlignment(Qt.AlignmentFlag.AlignCenter | Qt.AlignmentFlag.AlignVCenter)
            self.setItem(row, col, item)
```

### 2. `_set_job_name_readonly` 메서드 (Line 384-394)
**역할**: 직무명 컬럼 초기화

**변경 전**:
```python
def _set_job_name_readonly(self, row: int) -> None:
    item = self.item(row, COL_JOB_NAME)
    if item is None:
        item = QTableWidgetItem("")
        self.setItem(row, COL_JOB_NAME, item)
```

**변경 후**:
```python
def _set_job_name_readonly(self, row: int) -> None:
    item = self.item(row, COL_JOB_NAME)
    if item is None:
        item = QTableWidgetItem("")
        item.setTextAlignment(Qt.AlignmentFlag.AlignCenter | Qt.AlignmentFlag.AlignVCenter)
        self.setItem(row, COL_JOB_NAME, item)
```

### 3. `load_roles` 메서드 (Lines 664-685)
**역할**: 시나리오 로드 시 직무 데이터 표시

**변경 전**:
```python
name_item = QTableWidgetItem(job_name)
name_item.setFlags(readonly_flags)
self.table.setItem(row_idx, COL_JOB_NAME, name_item)

work_days_item = QTableWidgetItem(str(default_work_days))
work_days_item.setFlags(editable_flags)
# ... (다른 아이템들도 동일)
```

**변경 후**:
```python
name_item = QTableWidgetItem(job_name)
name_item.setFlags(readonly_flags)
name_item.setTextAlignment(Qt.AlignmentFlag.AlignCenter | Qt.AlignmentFlag.AlignVCenter)
self.table.setItem(row_idx, COL_JOB_NAME, name_item)

work_days_item = QTableWidgetItem(str(default_work_days))
work_days_item.setFlags(editable_flags)
work_days_item.setTextAlignment(Qt.AlignmentFlag.AlignCenter | Qt.AlignmentFlag.AlignVCenter)
# ... (다른 아이템들도 동일하게 가운데 정렬 추가)
```

모든 컬럼에 적용:
- 직무명 (COL_JOB_NAME)
- 근무일수 (COL_WORK_DAYS)
- 근무시간 (COL_WORK_HOURS)
- 연장시간 (COL_OVERTIME_HOURS)
- 휴일시간 (COL_HOLIDAY_HOURS)
- 인원 (COL_HEADCOUNT)

### 4. `_force_editable_full` 함수 (Line 215-220)
**역할**: 테이블 편집 가능 상태 강제 설정

**변경 전**:
```python
for row in range(table.rowCount()):
    for col in range(table.columnCount()):
        item = table.item(row, col)
        if item is None:
            table.setItem(row, col, QTableWidgetItem(""))
```

**변경 후**:
```python
for row in range(table.rowCount()):
    for col in range(table.columnCount()):
        item = table.item(row, col)
        if item is None:
            new_item = QTableWidgetItem("")
            new_item.setTextAlignment(Qt.AlignmentFlag.AlignCenter | Qt.AlignmentFlag.AlignVCenter)
            table.setItem(row, col, new_item)
```

### 5. `_on_job_code_changed` 메서드 (Line 954-958)
**역할**: 직무코드 변경 시 직무명 업데이트

**변경 전**:
```python
self.table._ensure_row_items(row)
item = self.table.item(row, COL_JOB_NAME)
if item is None:
    item = QTableWidgetItem("")
    self.table.setItem(row, COL_JOB_NAME, item)
```

**변경 후**:
```python
self.table._ensure_row_items(row)
item = self.table.item(row, COL_JOB_NAME)
if item is None:
    item = QTableWidgetItem("")
    item.setTextAlignment(Qt.AlignmentFlag.AlignCenter | Qt.AlignmentFlag.AlignVCenter)
    self.table.setItem(row, COL_JOB_NAME, item)
```

## 정렬 설정 설명

```python
item.setTextAlignment(Qt.AlignmentFlag.AlignCenter | Qt.AlignmentFlag.AlignVCenter)
```

- `AlignCenter`: 수평 가운데 정렬
- `AlignVCenter`: 수직 가운데 정렬
- `|` (비트 OR): 두 정렬을 동시에 적용

## 적용 범위

모든 테이블 셀 데이터가 가운데 정렬됩니다:

| 컬럼 | 정렬 | 비고 |
|------|------|------|
| 직무코드 | 가운데 | 위젯이므로 별도 관리 |
| 직무명 | 가운데 ✅ | QTableWidgetItem |
| 근무일수 | 가운데 ✅ | QTableWidgetItem |
| 근무시간 | 가운데 ✅ | QTableWidgetItem |
| 연장시간 | 가운데 ✅ | QTableWidgetItem |
| 휴일시간 | 가운데 ✅ | QTableWidgetItem |
| 인원 | 가운데 ✅ | QTableWidgetItem |

**참고**: 직무코드 컬럼은 JobCodeCellWidget이라는 커스텀 위젯을 사용하므로 QTableWidgetItem이 아닙니다. 위젯 자체에서 정렬을 관리합니다.

## UI 개선 효과

### Before (이전)
```
직무코드 | 직무명      | 근무일수 | 인원
---------|------------|----------|------
A001     | 소장       | 20.6     | 1
```
(왼쪽 정렬, 불균형한 느낌)

### After (현재)
```
직무코드 |   직무명   | 근무일수 | 인원
---------|------------|----------|------
  A001   |    소장    |   20.6   |  1
```
(가운데 정렬, 깔끔하고 균형잡힌 느낌)

## 결론
직무별 인원 입력 테이블의 모든 데이터가 가운데 정렬되어 UI가 더욱 깔끔하고 읽기 쉬워졌습니다.

## 관련 파일
- **수정 파일**: [job_role_table.py](src/ui/job_role_table.py)
- **수정 메서드**:
  - `_ensure_row_items()`
  - `_set_job_name_readonly()`
  - `load_roles()`
  - `_force_editable_full()`
  - `_on_job_code_changed()`

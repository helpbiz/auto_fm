# 노무비 계산 UI 사용 가이드

## 📋 현재 실행 중인 애플리케이션에서 계산 결과 보기

### 1️⃣ 단계: 테스트 데이터 자동 입력

화면 하단에 있는 버튼 중 **"Pre-fill Test Data"** 버튼을 클릭하세요.

```
버튼 위치: 화면 하단 버튼 줄에서 오른쪽 두 번째
기능: 자동으로 샘플 직무 데이터를 입력합니다
  - 소장 2명
  - 기사 1명
  - 보통인부 1명
```

**결과**: 직무별 인원 입력 테이블에 데이터가 자동으로 채워집니다.

---

### 2️⃣ 단계: 시나리오 저장

**"시나리오 저장"** 버튼을 클릭하여 입력한 데이터를 데이터베이스에 저장합니다.

```
버튼 위치: "집계 실행" 버튼 바로 오른쪽
필수: 저장하지 않으면 집계 실행 시 경고 메시지가 표시됩니다
```

---

### 3️⃣ 단계: 집계 실행

**"집계 실행"** 버튼을 클릭합니다.

```
버튼 위치: 화면 하단 맨 왼쪽
기능: 노무비 및 경비를 계산하여 결과를 표시합니다
```

**계산 내용**:
- ✅ 기본급, 상여금, 제수당 계산
- ✅ 통상시간급 계산
- ✅ 주휴수당, 연차수당 계산
- ✅ 퇴직급여충당금 계산
- ✅ 4대보험 및 기타 보험료 계산
- ✅ 경비 집계
- ✅ 일반관리비 및 이윤 계산

---

### 4️⃣ 단계: 계산 결과 확인

#### 📊 요약 결과 (기본 화면)

집계 실행 후 오른쪽 패널에서 다음 정보를 확인할 수 있습니다:

1. **요약 카드**
   - 총 인건비
   - 총 경비
   - 일반관리비
   - 이윤
   - 부가가치세
   - 총 견적액

2. **도넛 차트**
   - 노무비, 경비, 일반관리비, 이윤의 비율을 시각화

---

#### 💼 노무비 상세 결과

화면 오른쪽 상단의 **"노무비 상세"** 탭을 클릭하세요.

**표시 내용**:
```
┌─────────────────────────────────────────────────┐
│ 노무비 상세                                      │
├─────────────────────────────────────────────────┤
│ 직무코드 │ 직무명 │ 인원 │ 근무일 │ 금액      │
├─────────────────────────────────────────────────┤
│ JOB001   │ 소장   │ 2명  │ 20.6  │ 8,240,000원│
│ JOB002   │ 기사   │ 1명  │ 20.6  │ 6,180,000원│
│ ...                                              │
├─────────────────────────────────────────────────┤
│ 합계                           │ 14,420,000원  │
└─────────────────────────────────────────────────┘

세부 내역:
• 기본급(월): XXXX원
• 상여금(월): XXXX원
• 제수당: XXXX원
  - 주휴수당
  - 연차수당
  - 연장수당
  - 휴일근로수당
• 퇴직급여충당금: XXXX원
• 보험료: XXXX원
  - 산재보험
  - 국민연금
  - 고용보험
  - 건강보험
  - 장기요양보험
  - 임금채권보장
  - 석면피해구제
```

---

#### 💰 경비 상세 결과

**"경비 상세"** 탭을 클릭하여 경비 내역을 확인할 수 있습니다.

---

#### 📈 시나리오 비교

**"시나리오 비교"** 탭에서:
1. 시나리오 A, B를 각각 선택
2. 기준 연도 선택 (2024, 2025 등)
3. "비교" 버튼 클릭

**비교 결과**:
- 두 시나리오의 금액 차이
- 증감률
- 주요 변동 항목 (Top 3)

---

## 🎯 수동으로 데이터 입력하기

테스트 데이터 대신 직접 입력하려면:

### 직무별 인원 입력

1. **직무코드** 입력 (예: 소장, 기사, 보통인부)
   - 입력창에 직무명 또는 코드 입력
   - 자동완성 리스트에서 선택 가능

2. **근무 정보** 입력
   - 근무일수 (월): 예) 20.6일
   - 근무시간 (일): 예) 8시간
   - 연장시간 (월): 선택사항
   - 휴일근로시간 (월): 선택사항

3. **인원** 입력
   - 해당 직무의 투입 인원 수

4. **엔터 키** 또는 **"행 추가"** 버튼
   - 엔터 키: 다음 입력 항목으로 이동
   - 마지막 행에서 엔터: 자동으로 새 행 추가
   - "행 추가" 버튼: 수동으로 빈 행 추가

### 경비 입력

1. **경비항목** 선택 (드롭다운)
2. **수량** 입력
3. 자동으로 금액 계산됨

---

## 🔄 연도별 노임단가 적용

### 기준 연도 선택

1. 화면 상단 **"연도 선택"** 드롭다운
2. 원하는 연도 선택 (2024, 2025 등)
3. 선택한 연도의 노임단가가 자동으로 적용됨

**연도별 데이터 관리**:
- `data/wages_master.json` 파일에 연도별 노임단가 저장
- 새 연도 데이터가 없으면 임포트 제안 팝업 표시

---

## 📤 결과 내보내기

### PDF 내보내기

**"요약 PDF 내보내기"** 버튼 클릭
- 요약 정보가 포함된 PDF 생성
- 저장 위치: `reports/` 폴더

### Excel 내보내기

**"상세 Excel 내보내기"** 버튼 클릭
- 노무비 상세, 경비 상세가 포함된 Excel 파일 생성
- 저장 위치: `reports/` 폴더

---

## ⚙️ 설정 (일반관리비 및 이윤율)

화면 상단 **입력 패널**에서:

1. **일반관리비율** 입력 (예: 0.1 = 10%)
2. **이윤율** 입력 (예: 0.1 = 10%)
3. **4대보험 요율** 조정 (필요시)
   - 산재보험
   - 국민연금
   - 고용보험
   - 건강보험
   - 장기요양보험
   - 임금채권보장
   - 석면피해구제

---

## 🐛 문제 해결

### "저장되지 않은 변경사항이 있습니다"

**원인**: 데이터를 수정했지만 저장하지 않음

**해결**: "시나리오 저장" 버튼 클릭

### "집계가 실행되지 않습니다"

**원인**: 편집 중이거나 dirty 상태

**해결**:
1. 다른 셀을 클릭하여 편집 모드 종료
2. 잠시 대기 후 다시 "집계 실행" 클릭

### "직무코드 입력 후 엔터 키가 작동하지 않습니다"

**원인**: 자동완성 팝업이 활성화됨

**해결**:
1. 자동완성 팝업에서 항목 선택 (엔터)
2. 또는 ESC 키로 팝업 닫기
3. 다시 엔터 키 입력

### "행 추가가 안 됩니다"

**해결**:
1. "행 추가" 버튼 사용
2. 또는 마지막 행의 직무코드 입력 후 엔터

---

## 📝 계산 로직 요약

### 노무비 계산 공식

```
1. 일급 합계 = Σ(직무별 인원 × 일급)

2. 기본급(월) = 일급 합계 × 월 근무일수

3. 상여금(월) = 기본급 × 400% ÷ 12

4. 통상시간급 계산:
   • 시간급 = 일급 ÷ 1일 근무시간
   • 상여 시간가산 = 상여금 ÷ 209시간
   • 통상시간급 = 시간급 + 상여 시간가산

5. 제수당:
   • 주휴수당 = 통상시간급 × 8시간 × 4.345일
   • 연차수당 = 통상시간급 × 8시간 × 1.25일
   • 연장수당 = 통상시간급 × 연장시간
   • 휴일근로수당 = 통상시간급 × 휴일근로시간

6. 퇴직급여충당금 = (기본급 + 제수당 + 상여금) ÷ 12

7. 인건비 소계 = 기본급 + 제수당 + 상여금 + 퇴직급여충당금

8. 보험료 = (기본급 + 제수당 + 상여금) × 각 보험료율

9. 총 노무비 = 인건비 소계 + 보험료
```

### 총 견적액 계산

```
1. 노무비 합계
2. 경비 합계
3. 일반관리비 = (노무비 + 경비) × 일반관리비율
4. 이윤 = (노무비 + 경비 + 일반관리비) × 이윤율
5. 부가가치세 = (노무비 + 경비 + 일반관리비 + 이윤) × 10%
6. 총 견적액 = 노무비 + 경비 + 일반관리비 + 이윤 + 부가가치세
```

---

## 💡 팁

1. **단축키**
   - Ctrl+S: 저장 (예정)
   - F5: 집계 실행 (예정)

2. **효율적인 입력**
   - 직무코드 입력 시 자동완성 활용
   - 엔터 키로 빠른 입력
   - 복사-붙여넣기 지원 (일부)

3. **시나리오 관리**
   - 여러 시나리오 저장 가능
   - JSON으로 내보내기/불러오기 가능
   - 연도별 비교 가능

4. **전년 대비 분석**
   - "전년 기준으로 저장" 버튼으로 기준 설정
   - 요약 카드에서 전년 대비 증감률 표시

---

## 📞 문의

이슈 발생 시:
- GitHub Issues에 등록
- 로그 파일 첨부: `logs/` 폴더

---

**마지막 업데이트**: 2026-02-11

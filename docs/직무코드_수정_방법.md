# 직무코드 수정 방법

## 1. 화면에서 직무코드 입력·변경하기

- **위치**: 메인 화면 왼쪽 **「직무별 인원 입력」** 테이블의 **첫 번째 열(직무코드)**.
- **입력**: 해당 셀을 클릭한 뒤 직무코드를 입력합니다.
  - 일부만 입력하면 등록된 직무코드 목록이 **자동완성**으로 뜹니다. 원하는 코드를 선택하면 됩니다.
  - 등록된 코드가 아니어도 직접 입력할 수 있으며, 그 경우 직무명은 「미등록 코드」로 표시됩니다.
- **변경**: 이미 입력된 행의 직무코드 셀을 다시 클릭해 수정하면 됩니다.
- **직무명/기술등급/노임단가**: 직무코드를 입력하거나 변경하면 그 행의 직무명·기술등급·노임단가가 자동으로 채워집니다(등록된 코드인 경우).

직무코드 목록(자동완성에 나오는 코드)은 **기준 연도**로 불러온 시나리오의 DB 데이터 + 기본 목록에서 옵니다. 연도를 바꾸면 해당 연도 시나리오에 있는 직무만 목록에 포함됩니다.

---

## 2. 직무코드 목록 추가·수정하기 (직무명·기술등급 매핑)

새 직무코드를 쓰거나, 기존 코드의 **직무명·기술등급**을 바꾸려면 **`data/job_mapping.json`** 파일을 수정합니다.

### 파일 위치 및 형식

- **경로**: 프로젝트 폴더 아래 `data/job_mapping.json`
- **형식**:
```json
{
  "직무코드": {
    "title": "직무명",
    "grade": "기술등급"
  }
}
```

### 기술등급 예시

- `고급기술자`
- `중급기술자`
- `초급기술자`
- `단순노무종사원`

### 수정 예시

- **새 직무 추가**: 새 코드를 키로 넣고 `title`, `grade`를 지정합니다.
- **기존 직무명/기술등급 변경**: 해당 코드의 `title` 또는 `grade` 값을 원하는 값으로 바꿉니다.

파일 저장 후, 앱에서 해당 직무코드를 입력하면 직무명·기술등급이 새 값으로 표시됩니다.  
(자동완성 목록에 바로 반영되려면 해당 연도 시나리오에 그 코드가 있어야 합니다. 아래 「3. 연도별 직무·노임단가 반영」 참고.)

---

## 3. 연도별 직무·노임단가 반영 (자동완성·단가 적용)

- **기준 연도** 콤보에서 선택한 연도의 시나리오에 직무가 저장되어 있으면, 그 직무코드가 자동완성에 포함되고 해당 연도 노임단가가 적용됩니다.
- **직무코드별 기본 일급**을 쓰려면: 메뉴 **설정 → 기술자 노임단가** 탭에서 직무코드와 일급(원)을 입력합니다. 직무코드 입력 시 `job_mapping.json`에 있으면 직무명이 자동으로 채워집니다.
- **연도별 데이터 임포트**: `data/wages_master.json`과 `data/job_mapping.json`을 이용해 연도별 노임단가를 임포트하면, 해당 연도 시나리오에 직무가 저장되고 그 연도를 선택했을 때 자동완성·단가가 적용됩니다.

---

## 요약

| 하고 싶은 일 | 방법 |
|-------------|------|
| 화면에서 직무코드 입력/수정 | 「직무별 인원 입력」 테이블 첫 번째 열에서 입력·수정 (자동완성 사용 가능) |
| 직무명·기술등급 추가/변경 | `data/job_mapping.json` 편집 |
| 직무코드별 기본 일급 설정 | **설정 → 기술자 노임단가** 탭에서 직무코드·일급 입력 |
| 연도별로 직무·단가 반영 | 해당 연도 시나리오에 데이터 로드 또는 임포트 |
